
---

## âœ… ê¸°ëŠ¥ ê°œìš”

- ê²€ìƒ‰ì–´(`query`) ì…ë ¥ ì‹œ, ë”ë¯¸(mock) ë°ì´í„°ì—ì„œ ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ í•„í„°ë§
- í•„í„°(`category`, `format`) ë° ì •ë ¬(`ìµœì‹ ìˆœ`, `ì¸ê¸°ìˆœ`) ê¸°ëŠ¥ í¬í•¨
- ê²°ê³¼ ê°œìˆ˜, ê²€ìƒ‰ ì‹œê°„, ì˜¤ë¥˜ ë©”ì‹œì§€, ë¡œë”© ìƒíƒœ ë“±ì„ ìƒíƒœë¡œ ê´€ë¦¬
- ì¶”í›„ ì‹¤ì œ API ì—°ë™ ì‹œ êµ¬ì¡° ìœ ì§€í•˜ë©° `fetch` ë˜ëŠ” `axios`ë¡œ êµì²´ ê°€ëŠ¥

---

## ğŸ” ê²€ìƒ‰ íë¦„ ìš”ì•½

```plaintext
1. ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ ë° í•„í„° ì…ë ¥
2. search() í•¨ìˆ˜ ì‹¤í–‰
3. mockSearchResultsì—ì„œ ê²€ìƒ‰ì–´ì™€ í•„í„° ê¸°ì¤€ìœ¼ë¡œ ê²°ê³¼ í•„í„°ë§
4. ì •ë ¬ ì¡°ê±´ (ìµœì‹ ìˆœ / ì¸ê¸°ìˆœ) ì ìš©
5. ê²°ê³¼ ì €ì¥ â†’ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë Œë”ë§


 useSearch Hook êµ¬ì¡°
import { useState, useCallback } from "react"

// ğŸ” ê²€ìƒ‰ ê²°ê³¼ í•­ëª© ì¸í„°í˜ì´ìŠ¤
interface SearchResult {
  title: string
  description: string
  keywords: string[]
  category: string
  dataFormat: string
  lastUpdated: string
  downloadCount: number
}

// ğŸ”§ í•„í„° íƒ€ì… ì •ì˜
interface SearchFilters {
  category?: string
  format?: string
  sortBy?: "date" | "popularity"
}

// ğŸ“¦ ëª©ì—… ë°ì´í„° ì˜ˆì‹œ (ì¶”í›„ API ì—°ë™ ê°€ëŠ¥)
const mockSearchResults: SearchResult[] = [
  {
    title: "DevLingo Guide",
    description: "A developer dictionary for modern tech terms.",
    keywords: ["dev", "lingo", "dictionary"],
    category: "Documentation",
    dataFormat: "Markdown",
    lastUpdated: "2025-06-07T12:00:00Z",
    downloadCount: 124,
  },
  // ...ë‹¤ë¥¸ mock ë°ì´í„°
]

export const useSearch = () => {
  const [results, setResults] = useState<SearchResult[]>([])
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState<string | null>(null)
  const [query, setQuery] = useState("")
  const [filters, setFilters] = useState<SearchFilters>({})
  const [totalResults, setTotalResults] = useState(0)
  const [searchTime, setSearchTime] = useState(0)

  // ğŸ” ê²€ìƒ‰ í•¨ìˆ˜
  const search = useCallback(async (searchQuery: string, searchFilters?: SearchFilters) => {
    if (!searchQuery.trim()) {
      setResults([])
      setQuery("")
      return
    }

    setLoading(true)
    setError(null)
    setQuery(searchQuery)
    setFilters(searchFilters || {})

    try {
      const startTime = Date.now()

      // â³ mock delay (ì‹¤ì œ API fetchë¡œ ëŒ€ì²´ ê°€ëŠ¥)
      await new Promise((r) => setTimeout(r, 300 + Math.random() * 200))

      let filtered = mockSearchResults

      // ğŸ” í‚¤ì›Œë“œ í•„í„°
      filtered = filtered.filter(
        (item) =>
          item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
          item.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
          item.keywords.some((k) => k.toLowerCase().includes(searchQuery.toLowerCase()))
      )

      // ğŸ¯ ì¹´í…Œê³ ë¦¬ í•„í„°
      if (searchFilters?.category) {
        filtered = filtered.filter((item) => item.category === searchFilters.category)
      }

      // ğŸ“„ í˜•ì‹ í•„í„°
      if (searchFilters?.format) {
        filtered = filtered.filter((item) =>
          item.dataFormat.toLowerCase().includes(searchFilters.format!.toLowerCase())
        )
      }

      // â¬‡ï¸ ì •ë ¬ í•„í„°
      if (searchFilters?.sortBy === "date") {
        filtered.sort((a, b) => new Date(b.lastUpdated).getTime() - new Date(a.lastUpdated).getTime())
      } else if (searchFilters?.sortBy === "popularity") {
        filtered.sort((a, b) => b.downloadCount - a.downloadCount)
      }

      const endTime = Date.now()
      setSearchTime((endTime - startTime) / 1000)
      setResults(filtered)
      setTotalResults(filtered.length)
    } catch (err) {
      setError("ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")
      setResults([])
    } finally {
      setLoading(false)
    }
  }, [])

  // ğŸ§¹ ê²€ìƒ‰ ì´ˆê¸°í™”
  const clearSearch = useCallback(() => {
    setResults([])
    setQuery("")
    setFilters({})
    setError(null)
    setTotalResults(0)
    setSearchTime(0)
  }, [])

  return {
    results,
    loading,
    error,
    query,
    filters,
    totalResults,
    searchTime,
    search,
    clearSearch,
  }
}



[ì‚¬ìš©ì ì…ë ¥]
     |
     v
[search("ê²€ìƒ‰ì–´", í•„í„°)]
     |
     v
[useCallback ë‚´ë¶€ search í•¨ìˆ˜ ì‹¤í–‰]
     |
     v
[API ìš”ì²­ ì „ ë¡œë”©/ìƒíƒœ ì´ˆê¸°í™”]
     |
     v
[API ë˜ëŠ” mock ë°ì´í„° fetch]
     |
     v
[ê²€ìƒ‰ì–´/í•„í„° ê¸°ë°˜ ë°ì´í„° í•„í„°ë§]
     |
     v
[ì •ë ¬ ì¡°ê±´ ì ìš©]
     |
     v
[ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ setResults() ìƒíƒœë¡œ ì €ì¥]
     |
     v
[ê²€ìƒ‰ ì‹œê°„ ì¸¡ì •, ì´ ê°œìˆ˜ setTotalResults()]
     |
     v
[ë¡œë”© ì¢…ë£Œ]
     |
     v
[ê²°ê³¼ UI ë°˜ì˜ (ì˜ˆ:]()

âœ… useSearch í›… ì‘ë™ íë¦„ ìš”ì•½
1. ì‚¬ìš©ì ì…ë ¥
ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ ë˜ëŠ” **í•„í„°(ì¹´í…Œê³ ë¦¬, í¬ë§·, ì •ë ¬)**ë¥¼ ì…ë ¥

2. search() í•¨ìˆ˜ ì‹¤í–‰
ê²€ìƒ‰ì–´ì™€ í•„í„°ë¥¼ ì¸ìë¡œ ë°›ì•„ ì‹¤í–‰ë¨

ê¸°ì¡´ ìƒíƒœ ì´ˆê¸°í™” (loading ON, ì—ëŸ¬ ì´ˆê¸°í™”, ê²€ìƒ‰ì–´ ì €ì¥ ë“±)

3. API í˜¸ì¶œ ì‹œë®¬ë ˆì´ì…˜
setTimeoutì„ ì‚¬ìš©í•´ ë„¤íŠ¸ì›Œí¬ ì§€ì—° í‰ë‚´ëƒ„ (ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” API í˜¸ì¶œ)

4. ë°ì´í„° í•„í„°ë§
ê²€ìƒ‰ì–´ ê¸°ì¤€ìœ¼ë¡œ title, description, keywords í•„í„°ë§

í•„í„° ê°’(category, format) ì ìš©

ì •ë ¬(date, popularity) ì¡°ê±´ ì ìš©

5. ê²°ê³¼ ì €ì¥
í•„í„°ë§ëœ ê²°ê³¼ë¥¼ resultsì— ì €ì¥

ê²€ìƒ‰ ì‹œê°„ ê³„ì‚° í›„ searchTimeì— ì €ì¥

ì´ ê²°ê³¼ ìˆ˜ëŠ” totalResultsì— ì €ì¥

6. ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œë”© ì¢…ë£Œ
ì˜¤ë¥˜ ë°œìƒ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€ ì €ì¥

ë§ˆì§€ë§‰ì— loading ìƒíƒœ falseë¡œ ë³€ê²½

ğŸ§¹ clearSearch() í•¨ìˆ˜
ìƒíƒœ ì´ˆê¸°í™”: ê²°ê³¼, ê²€ìƒ‰ì–´, í•„í„°, ì—ëŸ¬, ê°œìˆ˜, ì‹œê°„ ëª¨ë‘ ë¦¬ì…‹

